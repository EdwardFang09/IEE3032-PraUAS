<html>
  <head>

    <title>Pabrik 'Pra UAS'</title>
    <meta http-equiv="refresh" content="2">
  </head>
  <body>
    <h1>Pabrik 'Pra UAS'</h1>  
    <p>Edward - 202000541 - IEE</p> 
    <!-- {{views}} -->
    <table border='1'>
      <tr>
        <th colspan = 9>Sistem 1: Smart Farm</th>
      </tr>
      <tr>
        <th colspan = 3>Subsistem 1: Susu Hewani dan Telur</th>
        <th colspan = 3>Subsistem 2: Daging Merah</th>
        <th colspan = 3>Subsistem 3: Daging Putih</th>
      </tr>
      <tr>
        <th>Proksimitas (m)</th>
        <th>Fleks (Â°)</th>
        <th>Berat (kg)</th>
        <th>Suhu (C)</th>
        <th>Tegangan (V)</th>
        <th>Arus (A)</th>
        <th>Tekanan (P)</th>
        <th>Medan magnet (mT)</th>
        <th>Inframerah (W/m2)</th>
      </tr>
      <tr>
        {%for usaha1 in usaha1%}
        <td align="center">{{usaha1.value}}</td>
        {% endfor %}
      </tr>
    </table>
    <p></p>
    <table border='1'>
      <tr>
        <th colspan = 4>Aktuator Sistem 1</th>
      </tr>
      <tr>
        <td>Kalsium (g)</td>
        <td>Kalori (Kcal)</td>
        <td>Protein (kg)</td>
        <th>Presentase busuk (%)</th>
      </tr>
      <tr>
        {%for akt1 in akt1%}
        <td align="center">{{akt1.value}}</td>
        {% endfor %}
      </tr>

    </table>
    <p></p>
    <table border='1'>
      <tr>
        <th colspan = 9>Sistem 2: Smart Plantation</th>
      </tr>
      <tr>
        <th colspan = 3>Subsistem 4: Sumber karbohidrat </th>
        <th colspan = 3>Subsistem 5: Sayuran </th>
        <th colspan = 3>Subsistem 6: Buah-buahan </th>
      </tr>
      <tr>
        <th>Ultrasonik (cm)</th>
        <th>Gas (%)</th>
        <th>pH</th>
        <th>Gerak</th>
        <th>Kemiringan (derajat)</th>
        <th>Gaya (N)</th>
        <th>Aliran(ft/s)</th>
        <th>Vibrasi (a/s)</th>
        <th>Warna (array)</th>
      </tr>
      <tr>
        {%for usaha2 in usaha2%}
        <td align="center">{{usaha2.value}}</td>
        {% endfor %}
      </tr>
    </table>
    <p></p>
    
    <table border='1'>
      <tr>
        <th colspan = 4>Aktuator Sistem 2</th>
      </tr>
      <tr>
        <td>Karbohidrat (g)</td>
        <td>Zat besi (g)</td>
        <td>Vitamin C (mg)</td>
        <th>Jumlah air digunakan (L/hari)</th>
      </tr>
      <tr>
        {%for akt2 in akt2%}
        <td align="center">{{akt2.value}}</td>
        {% endfor %}
      </tr>

    </table>
    <p></p>
    <table border='1'>
      <tr>
        <th colspan = 9>Sistem 3: Smart Restaurant</th>
      </tr>
      <tr>
        <th colspan = 3>Subsistem 7: Deteksi musim</th>
        <th colspan = 3>Subsistem 8: Hasil penjualan</th>
        <th colspan = 3>Subsistem 9: Jumlah Pengunjung</th>
      </tr>
      <tr>
        <th>CO2 (ppm)</th>
        <th>Cahaya (LDR)</th>
        <th>Kualitas udara (ppm)</th>
        <th>Cuaca </th>
        <th>Kelembaban (%)</th>
        <th>Kecepatan angin (m/s)</th>
        <th>Radiasi (gray)</th>
        <th>Suara (dB)</th>
        <th>Oksigen (%)</th>
      </tr>
      <tr>
        {%for usaha3 in usaha3%}
        <td align="center">{{usaha3.value}}</td>
        {% endfor %}
      </tr>
    </table>
    <p></p>
    <table border='1'>
      <tr>
        <th colspan = 4>Aktuator Sistem 3</th>
      </tr>
      <tr>
        <td>Musim</td>
        <td>Sales</td>
        <td>Pengunjung</td>
        <th>Pengeluaran (IDR/hari)</th>
      </tr>
      <tr>
        {%for akt3 in akt3%}
        <td align="center">{{akt3.value}}</td>
        {% endfor %}
      </tr>
    </table>
    <p></p>
    <table border='1'>
      <tr>
        <th colspan = 4>Aktuator Final</th>
      </tr>
      <tr>
        <td>Rating Total (%)</td>
      </tr>
      <tr>
        {%for akt_final in akt_final%}
        <td align="center">{{akt_final.value}}</td>
        {% endfor %}
      </tr>
    </table>
    <p></p>
    
<p>Sensor cuaca:</p>
<ol>
  <li>Cerah</li>
  <li>Berawan</li>
  <li>Hujan</li>
  <li>Salju</li>
  <li>Berangin</li>
</ol>

<div class="chart-container" style="position: relative; height:20vh; width:40vw">
  <canvas id="myChart"></canvas>
  <canvas id="myChart2"></canvas>
  <canvas id="myChart3"></canvas>
  <canvas id="myChart4"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  const ctx = document.getElementById('myChart').getContext('2d');
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Kalsium (g)', "Kalori (kcal)", 'Protein (kg)', 'Presentase busuk (%)'],
      datasets: [{
        label: 'Aktuator sistem 1',
        data: [{%for data in akt1%}'{{data.value}}',{%endfor%}],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
        
      }
    }
  });

  const ctx2 = document.getElementById('myChart2').getContext('2d');
  new Chart(ctx2, {
    type: 'bar',
    data: {
      labels: ['Karbohidrat (g)', "Zat besi (kcal)", 'Kelembaban (%)', 'Jumlah air digunakan (L/hari)'],
      datasets: [{
        label: 'Aktuator sistem 2',
        data: [{%for data in akt2%}'{{data.value}}',{%endfor%}],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
        
      }
    }
  });

  const ctx3 = document.getElementById('myChart3').getContext('2d');
  new Chart(ctx3, {
    type: 'bar',
    data: {
      labels: ['Musim', "Sales (IDR)", 'Pengunhung', 'Pengeluaran/hari'],
      datasets: [{
        label: 'Aktuator sistem 3',
        data: [{%for data in akt3%}'{{data.value}}',{%endfor%}],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
        
      }
    }
  });

  const ctx4 = document.getElementById('myChart4').getContext('2d');
  new Chart(ctx4, {
    type: 'bar',
    data: {
      labels: ['Rating Perusahaan (%)'],
      datasets: [{
        label: 'Aktuator Final',
        data: [{%for data in akt_final%}'{{data.value}}',{%endfor%}],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
        
      }
    }
  });
</script>

